---
title: Configure App in Microsoft Entra ID
description: Learn to configure your bot or message extension app with Microsoft Entra ID for enabling SSO, messaging endpoint, and OAuth connection.
ms.topic: how-to
ms.localizationpriority: high
---
# Configure your app in Microsoft Entra ID

Microsoft Entra ID provides app users access to your bot or message extension app. The app user who has signed in to Teams can be given access to your app.

<a name='sso-configuration-in-azure-ad-portal'></a>

## SSO configuration in Microsoft Entra admin center

The bot and message extension apps use Bot Framework for communicating with app users and implementing authentication.

To configure SSO for your bot or message extension app, you'll need to:

- Configure bot resource in Microsoft Entra ID
- Configure app in Microsoft Entra ID

> [!NOTE]
> Ensure that you've created an app and a bot resource in Microsoft Entra ID.
>
> - For more information about creating an app in Microsoft Entra ID, see [Register a new app in Microsoft Entra ID](../../../tabs/how-to/authentication/tab-sso-register-aad.md#to-register-a-new-app-in-azure-ad).
> - For more information about creating and configuring your bot resource in Microsoft Entra ID, see [Create Teams conversation bot](../../../sbs-teams-conversation-bot.yml).

You can configure your bot resource and app in Microsoft Entra ID for your bot or message extension app in one of the following two ways:

- **Configure SSO using bot resource and configure Microsoft Entra app**: You can start by configuring SSO for your bot resource, and enable SSO for your Microsoft Entra app. You'll configure:

  - For bot resource: Messaging endpoint and OAuth connection.

    > [!NOTE]
    > When you create your bot resource in Microsoft Entra ID, you can select the option for creating a new app ID, or you can use an existing app ID if you've already registered your app in Microsoft Entra ID.

  - For Microsoft Entra app: App ID URI, scope and permissions, trusted client IDs, access token version, client secret, and redirect URL.

- **Configure SSO using Microsoft Entra app and then configuring bot resource**: You can start by configuring your Microsoft Entra app, and then use this app ID in the bot resource when you enable SSO for it. You'll configure:

  - For Microsoft Entra app: App ID URI, access token, trusted client IDs, access token version, client secret, and redirect URL.

  - For bot resource: Messaging endpoint and OAuth connection.

    > [!NOTE]
    > Configure bot resource using the app ID generated by Microsoft Entra ID when you registered your app.

<a name='enable-sso-in-azure-ad'></a>

## Enable SSO in Microsoft Entra ID

By the end of this tutorial, you'll learn to configure:

- Application ID
- Bot ID
- Access token
  - Application ID URI
  - Scope, permissions, and authorized client IDs
  - Client secret
  - Redirect URL
- Messaging endpoint and OAuth connection

Select one of the following two ways to configure SSO for your bot resource:

# [Use bot resource and configure Microsoft Entra app](#tab/botid)

To enable SSO for your app in Microsoft Entra ID:

- **[Configure messaging endpoint](#configure-messaging-endpoint)**
- **[Configure SSO for Microsoft Entra app](#configure-sso-for-azure-ad-app)**:
  - [Configure scope for the access token](#configure-scope-for-the-access-token)
  - [Configure access token version](#configure-access-token-version)
  - [Create client secret](#create-client-secret)
  - [Configure redirect URL](#configure-redirect-url)
- **[Configure OAuth connection](#configure-oauth-connection)**

> [!IMPORTANT]
> Ensure that when you create your bot resource, select the option to create a new app ID. You can also use an existing app ID, if you've already registered an app in Microsoft Entra admin center.

## Configure messaging endpoint

Messaging endpoint is where messages are sent to your bot. It enables communication with your bot.

### To configure messaging endpoint for your bot resource

1. Open the [Azure portal](https://ms.portal.azure.com/) on your web browser.
   The Microsoft Azure Bot page opens.

1. Enter the name of your bot resource in **Search** box, and select **Enter** to open it.

1. Select **Settings** > **Configuration**.

    :::image type="content" source="../../../assets/images/authentication/teams-sso-bots/bot-app-menu.png" alt-text="Screenshot shows the bot Configuration menu.":::

    The **Configuration** page appears.

1. Enter the messaging endpoint URL where your bot receives app user's messages.

    :::image type="content" source="../../../assets/images/authentication/teams-sso-bots/message-endpoint.png" alt-text="Screenshot shows the Messaging endpoint option to add the URL where the bot interacts with the user." :::

1. Select **Apply**.

    The messaging endpoint is configured.

You've configured the messaging endpoint for your bot resource. Next, you must enable SSO for the Microsoft Entra app.

<a name='configure-sso-for-azure-ad-app'></a>

## 